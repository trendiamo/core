import difference from 'lodash/difference';

var formatId = function formatId(id) {
  return { id: id };
};

export var computeFieldsToAdd = function computeFieldsToAdd(oldIds, newIds) {
  return difference(newIds, oldIds).map(formatId);
};

export var computeFieldsToRemove = function computeFieldsToRemove(oldIds, newIds) {
  return difference(oldIds, newIds).map(formatId);
};

export var computeFieldsToUpdate = function computeFieldsToUpdate(oldIds, newIds) {
  return oldIds.filter(function (oldId) {
    return newIds.includes(oldId);
  }).map(formatId);
};

export var computeFieldsToAddRemoveUpdate = function computeFieldsToAddRemoveUpdate(oldIds, newIds) {
  return {
    fieldsToAdd: computeFieldsToAdd(oldIds, newIds),
    fieldsToRemove: computeFieldsToRemove(oldIds, newIds),
    fieldsToUpdate: computeFieldsToUpdate(oldIds, newIds)
  };
};